<!DOCTYPE html>
<html lang="vi">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/png" href="../assets/logo.jpg" />
    <title>Tour Thi·ªán Nguy·ªán T√¢y Nguy√™n</title>
    <style>
      body {
        font-family: Arial, Helvetica, sans-serif;
        background-color: #f5f5f5;
        margin: 0;
        padding: 0;
      }

      .container {
        max-width: 1600px;
        margin: 40px auto;
        padding: 0 24px;
      }

      .title {
        font-size: 28px;
        color: #2e6600;
        margin-bottom: 30px;
      }

      .content {
        display: flex;
        flex-wrap: wrap;
        gap: 30px;
        align-items: flex-start;
      }

      .image-container {
        flex: 2;
        border-radius: 18px;
        overflow: hidden;
        max-height: 500px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
      }

      .tour-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .info-card {
        flex: 1;
        width: 100%;
        max-width: 400px;
        min-width: 300px;
        background-color: #fff;
        border-radius: 12px;
        padding: 25px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        align-self: flex-start;
      }

      .info-card h2 {
        color: #382711;
        margin-top: 0;
        margin-bottom: 16px;
        font-size: 22px;
        font-weight: bold;
      }

      .info-item {
        margin-bottom: 8px;
        font-size: 16px;
        color: #333;
      }

      .info-label {
        font-weight: bold;
        margin-right: 5px;
      }

      .date-selection {
        margin-top: 15px;
        margin-bottom: 8px;
        font-size: 16px;
        color: #333;
        font-weight: bold;
      }

      .date-options {
        display: flex;
        gap: 15px;
        margin-bottom: 20px;
      }

      .date-option {
        border: 1px solid #ddd;
        padding: 10px;
        border-radius: 5px;
        cursor: pointer;
        font-size: 16px;
        text-align: center;
        min-width: 60px;
      }

      .price {
        font-size: 20px;
        font-weight: bold;
        margin-bottom: 20px;
      }

      .action-buttons {
        display: flex;
        gap: 12px;
      }

      .contact-btn {
        background-color: #fff;
        color: #e74c3c;
        border: 1px solid #ddd;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: bold;
        display: inline-block;
        text-decoration: none;
        cursor: pointer;
        text-align: center;
      }

      .contact-btn:hover {
        background-color: #808080;
        color: #fff;
      }

      .book-btn {
        background-color: #2e6600;
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: bold;
        display: inline-block;
        text-decoration: none;
        border: none;
        cursor: pointer;
        text-align: center;
        transition: background-color 0.3s ease;
      }

      .book-btn:hover {
        background-color: #808080;
      }

      .icon {
        margin-right: 8px;
      }
      .info-card-1 {
        background-color: #fff;
        border-radius: 16px;
        padding: 28px 32px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        margin-bottom: 32px;
        max-width: 1060px;
      }
      .title-1 {
        color: #2e6600;
        font-size: 24px;
        font-weight: bold;
        margin: 40px 0 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .info-card-1 ul {
        list-style: none;
        padding: 0;
        margin: 0;
      }
      .info-card-1 ul li {
        font-size: 16px;
        font-weight: 300;
        color: #333;
        margin-bottom: 15px;
        padding-left: 0;
      }

      .info-card-1 .image-container {
        margin-bottom: 12px;
      }

      .info-card-1 .title-1 {
        color: #8e44ad;
        font-size: 1.5em;
        font-weight: bold;
        margin-top: 0;
        margin-bottom: 10px;
      }

      .info-card-1 p {
        font-size: 1em;
        line-height: 1.6;
        color: #555;
        margin-top: 0;
        font-weight: 600;
      }
      .tab-container {
        background-color: #f9f9f9;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
        max-width: 600px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
      }

      .tab-buttons {
        display: flex;
        border-bottom: 1px solid #ddd;
        margin-bottom: 10px;
      }

      .tab-button {
        background: none;
        border: none;
        padding: 10px 15px;
        cursor: pointer;
        font-weight: bold;
        color: #777;
        border-bottom: 2px solid transparent;
        transition: color 0.3s ease, border-bottom-color 0.3s ease;
      }

      .tab-button:hover {
        color: #555;
      }

      .tab-button.active {
        color: #2e6600;
        border-bottom-color: #2e6600;
      }

      .tab-content {
        display: none;
        padding-top: 15px;
        opacity: 0;
        transform: translateY(10px);
        transition: opacity 0.3s ease, transform 0.3s ease;
      }

      .tab-content.active {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .tab-content h3 {
        color: #333;
        margin-top: 0;
        margin-bottom: 10px;
      }

      .tab-content p {
        color: #555;
        line-height: 1.6;
        margin-bottom: 10px;
      }

      .tab-content ol,
      .tab-content ul {
        padding-left: 20px;
        margin-bottom: 10px;
      }

      .tab-content li {
        color: #555;
        line-height: 1.6;
        margin-bottom: 5px;
      }

      .tab-content strong {
        font-weight: bold;
        color: #333;
      }
      .place-list {
        display: flex;
        flex-wrap: wrap;
        gap: 16px;
        padding-bottom: 30px;
      }

      .place-item {
        display: flex;
        flex-direction: column;
        justify-content: space-between;
        width: calc(33.333% - 16px);
        background-color: #fff;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      }

      .place-img {
        width: 100%;
        display: block;
        border-radius: 12px;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
        transition: transform 0.3s ease, box-shadow 0.3s ease;
      }

      .place-img:hover {
        opacity: 0.9;
      }

      .place-body {
        padding: 16px;
        font-size: 15px;
        background-color: #fff;
      }

      .place-heading {
        font-size: 15px;
        font-weight: 600;
        color: #2e6600;
      }
      h3 {
        color: #2e6600;
      }

      .place-time {
        padding-top: 15px;
        color: #757575;
      }

      .place-desc {
        padding-top: 15px;
        line-height: 1.4;
      }

      .place-buy-btn {
        color: #fff;
        background-color: #2e6600;
        text-decoration: none;
        padding: 11px 16px;
        display: inline-block;
        margin-top: 15px;
        transition: all 0.3s ease;
        border-radius: 6px;
        box-shadow: 0 4px 10px rgba(233, 30, 99, 0.3);
        animation: pulse 1.5s infinite;
      }

      .place-buy-btn:hover {
        color: #000;
        background-color: #ccc;
      }
      @keyframes pulse {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(8, 175, 39, 0.7);
        }
        70% {
          transform: scale(1.05);
          box-shadow: 0 0 0 10px rgba(14, 169, 11, 0);
        }
        100% {
          transform: scale(1);
          box-shadow: 0 0 0 0 rgba(22, 209, 13, 0);
        }
      }
      .schedule {
        color: #2e6600;
        padding-bottom: 20px;
      }
      .clear {
        clear: both;
      }
      .modal {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.6);
        display: none;
        z-index: 999;
        padding-top: 60px;
      }

      .modal:target {
        display: block;
      }

      .modal-content {
        background: #fff;
        margin: auto;
        padding: 24px;
        border-radius: 12px;
        width: 90%;
        max-width: 600px;
        position: relative;
        animation: fadeIn 0.3s ease;
      }

      .modal-img {
        width: 100%;
        border-radius: 8px;
        margin-bottom: 16px;
      }

      .modal-title {
        color: #8e44ad;
        font-size: 22px;
        margin-bottom: 10px;
      }

      .modal-text {
        font-size: 15px;
        line-height: 1.6;
      }

      .close-btn {
        position: absolute;
        top: 12px;
        right: 18px;
        font-size: 26px;
        color: #aaa;
        text-decoration: none;
      }

      .close-btn:hover {
        color: #000;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(10px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        background-color: #2e6600;
        color: white;
        padding: 12px 24px;
        border-radius: 8px;
        font-size: 14px;
        font-weight: bold;
        cursor: pointer;
        display: none;
        z-index: 1000;
        transition: background-color 0.3s ease, transform 0.3s ease;
        border: none;
        text-align: center;
      }

      .back-to-top:hover {
        background-color: #808080;
        transform: scale(1.05);
      }

      .back-to-top.show {
        display: block;
      }

      .modal {
        display: none;
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(5px);
      }

      .modal-content {
        background-color: #fefefe;
        margin: 5% auto;
        padding: 0;
        border-radius: 20px;
        width: 90%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        animation: modalSlideIn 0.3s ease-out;
      }

      @keyframes modalSlideIn {
        from {
          transform: translateY(-50px);
          opacity: 0;
        }
        to {
          transform: translateY(0);
          opacity: 1;
        }
      }

      .modal-header {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 25px;
        border-radius: 20px 20px 0 0;
        text-align: center;
        position: relative;
      }

      .modal-header h2 {
        font-size: 1.8rem;
        margin: 0;
      }

      .close {
        position: absolute;
        right: 20px;
        top: 50%;
        transform: translateY(-50%);
        color: white;
        font-size: 28px;
        font-weight: bold;
        cursor: pointer;
        width: 35px;
        height: 35px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background-color 0.3s ease;
      }

      .close:hover {
        background-color: rgba(255, 255, 255, 0.2);
      }

      .modal-body {
        padding: 30px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-group label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        font-size: 14px;
        color: #333;
      }

      .form-group input,
      .form-group select {
        width: 100%;
        padding: 15px;
        border: 2px solid #e1e8ed;
        border-radius: 10px;
        font-size: 16px;
        box-sizing: border-box;
        transition: border-color 0.3s ease;
        background-color: #f8f9fa;
      }

      .form-group input:focus,
      .form-group select:focus {
        outline: none;
        border-color: #667eea;
        box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        background-color: white;
      }

      .submit-btn {
        width: 100%;
        padding: 15px;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        border-radius: 10px;
        font-size: 16px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 10px;
      }

      .submit-btn:hover {
        transform: translateY(-2px);
        box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
      }

      .submit-btn:disabled {
        background: #ccc;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
      }

      .loading {
        display: inline-block;
        width: 20px;
        height: 20px;
        border: 3px solid #ffffff;
        border-radius: 50%;
        border-top-color: transparent;
        animation: spin 1s ease-in-out infinite;
        margin-right: 10px;
      }

      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      .success-message {
        position: fixed;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        background: #28a745;
        color: white;
        padding: 20px 30px;
        border-radius: 10px;
        z-index: 1002;
        display: none;
        text-align: center;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
      }

      @media (max-width: 768px) {
        .content {
          grid-template-columns: 1fr;
          gap: 20px;
        }

        .title {
          font-size: 2rem;
        }

        .action-buttons {
          flex-direction: column;
        }

        .contact-btn,
        .book-btn {
          width: 100%;
        }

        .modal-content {
          margin: 10% auto;
          width: 95%;
        }

        .modal-body {
          padding: 20px;
        }

        .tour-image img,
        .image-container img {
          width: 100%;
          height: auto;
        }
      }

      html {
        scroll-behavior: smooth;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1 class="title">Tour Tr·ªìng C√¢y G√¢y R·ª´ng & Thi·ªán Nguy·ªán ‚Äì C·∫ßn Gi·ªù</h1>

      <div class="content">
        <div class="image-container">
          <img
            src="../assets/trong-cay-can-gio-25-scaled.jpg.webp"
            alt="Tour C·∫ßn Gi·ªù"
          />
        </div>

        <div class="info-card">
          <h2>Th√¥ng tin tour</h2>
          <div class="info-item"><strong>Th·ªùi gian:</strong> Trong 1 ng√†y</div>
          <div class="info-item"><strong>Ph∆∞∆°ng ti·ªán:</strong> Xe 45 ch·ªó</div>
          <div class="info-item>
            <strong>Kh·ªüi h√†nh t·ª´:</strong> Theo y√™u c·∫ßu qu√Ω kh√°ch
          </div>
          <div class="info-item price">
            Ch·ªâ t·ª´: <strong>990.000 ƒë/kh√°ch</strong>
          </div>
          <div class="action-buttons">
            <a href="#" class="contact-btn">üì© G·ª≠i y√™u c·∫ßu thi·∫øt k·∫ø ri√™ng</a>
            <button
              id="openModal"
              class="book-btn"
              aria-label="ƒê·∫∑t ch·ªó ngay cho tour V√¢n H·ªì"
            >
              üî• ƒê·∫∑t ch·ªó ngay!
            </button>
          </div>
        </div>
      </div>

      <h2 class="title-1">üåø ƒêi·ªÉm nh·∫•n h√†nh tr√¨nh</h2>
      <div class="info-card-1">
        <ul>
          <li>üå≥ Tham quan r·ª´ng ng·∫≠p m·∫∑n nguy√™n sinh C·∫ßn Gi·ªù</li>
          <li>
            üêí Giao l∆∞u v·ªõi ƒë√†n kh·ªâ ƒëu√¥i d√†i v√† c√°c lo√†i ƒë·ªông v·∫≠t qu√Ω hi·∫øm
          </li>
          <li>üíö Ho·∫°t ƒë·ªông tr·ªìng c√¢y, g√¢y r·ª´ng - g√≥p ph·∫ßn b·∫£o v·ªá m√¥i tr∆∞·ªùng</li>
          <li>üéÅ Tham gia thi·ªán nguy·ªán √Ω nghƒ©a c√πng c·ªông ƒë·ªìng</li>
        </ul>
      </div>

      <h2 class="title-1">üéÅ D·ªãch v·ª• bao g·ªìm</h2>
      <div class="info-card-1">
        <ul>
          <li>üöê Xe du l·ªãch hi·ªán ƒë·∫°i, ƒëi·ªÅu h√≤a, ƒë∆∞a ƒë√≥n su·ªët tuy·∫øn</li>
          <li>üçú 01 b·ªØa s√°ng v√† 01 b·ªØa tr∆∞a ƒë·ªãnh m·ª©c 200.000ƒë/kh√°ch</li>
          <li>ü•§ 01 chai n∆∞·ªõc + 01 khƒÉn l·∫°nh/ng√†y</li>
          <li>üõ°Ô∏è B·∫£o hi·ªÉm MIC tr·ªã gi√° 60 tri·ªáu ƒë·ªìng/kh√°ch/v·ª•</li>
          <li>‚úÖ Bao g·ªìm VAT 10%</li>
        </ul>
      </div>

      <h2 class="title-1">‚ùå Kh√¥ng bao g·ªìm</h2>
      <div class="info-card-1">
        <ul>
          <li>üõèÔ∏è Ph√≠ ng·ªß ph√≤ng ƒë∆°n & chi ph√≠ c√° nh√¢n ngo√†i ch∆∞∆°ng tr√¨nh</li>
          <li>üí∞ Ti·ªÅn b·ªìi d∆∞·ª°ng HDV, t√†i x·∫ø</li>
          <li>‚úàÔ∏è H√†nh l√Ω k√Ω g·ª≠i, v√© m√°y bay (n·∫øu c√≥)</li>
          <li>‚õî Chi ph√≠ ph√°t sinh do b·∫•t kh·∫£ kh√°ng</li>
        </ul>
      </div>

      <h2 class="title-1">üë∂ Ch√≠nh s√°ch tr·∫ª em</h2>
      <div class="info-card-1">
        <ul>
          <li>D∆∞·ªõi 3 tu·ªïi: mi·ªÖn ph√≠, b·ªë m·∫π t·ª± lo</li>
          <li>3-5 tu·ªïi: 50% gi√° tour</li>
          <li>6-9 tu·ªïi: 75% gi√° tour</li>
          <li>Tr√™n 9 tu·ªïi: t√≠nh nh∆∞ ng∆∞·ªùi l·ªõn</li>
        </ul>
      </div>
      <h2 class="schedule">üöå L·ªãch tr√¨nh</h2>

      <div class="place-list">
        <div class="place-item">
          <img src="../assets/danxay.webp" alt="D·∫ßn X√¢y" class="place-img" />
          <div class="place-body">
            <h3 class="place-heading">ƒêi·ªÉm tr·ªìng c√¢y (3) - D·∫ßn X√¢y</h3>
            <p class="place-desc">
              Khu v·ª±c tr·ªìng c√¢y t·∫°i D·∫ßn X√¢y ‚Äì n∆°i b·∫£o t·ªìn sinh th√°i ƒë·∫∑c bi·ªát
              thu·ªôc r·ª´ng ng·∫≠p m·∫∑n.
            </p>
            <a href="#modal-danxay" class="place-buy-btn">Xem th√™m</a>
          </div>
        </div>
        <div class="place-item">
          <img
            src="../assets/rungngapman.webp"
            alt="R·ª´ng ng·∫≠p m·∫∑n"
            class="place-img"
          />
          <div class="place-body">
            <h3 class="place-heading">ƒêi·ªÉm tr·ªìng c√¢y (13) - R·ª´ng ng·∫≠p m·∫∑n</h3>
            <p class="place-desc">
              Kh√°m ph√° h·ªá sinh th√°i phong ph√∫ v√† tham gia b·∫£o t·ªìn m√¥i tr∆∞·ªùng.
            </p>
            <a href="#modal-rungngapman" class="place-buy-btn">Xem th√™m</a>
          </div>
        </div>
        <div class="place-item">
          <img
            src="../assets/chungnhan.webp"
            alt="Ch·ª©ng nh·∫≠n"
            class="place-img"
          />
          <div class="place-body">
            <h3 class="place-heading">ƒêi·ªÉm tr·ªìng c√¢y (23) - Nh·∫≠n ch·ª©ng nh·∫≠n</h3>
            <p class="place-desc">
              Tham gia tr·ªìng c√¢y v√† nh·∫≠n ch·ª©ng nh·∫≠n ƒë√≥ng g√≥p v√¨ m√¥i tr∆∞·ªùng xanh.
            </p>
            <a href="#modal-chungnhan" class="place-buy-btn">Xem th√™m</a>
          </div>
        </div>
        <div class="clear"></div>
      </div>
      <div id="modal-danxay" class="modal">
        <div class="modal-content">
          <a href="#" class="close-btn">√ó</a>
          <img src="../assets/danxay.webp" alt="D·∫ßn X√¢y" class="modal-img" />
          <h2 class="modal-title">Chi ti·∫øt - D·∫ßn X√¢y</h2>
          <p class="modal-text">
            ƒêi·ªÉm tr·ªìng c√¢y t·∫°i khu v·ª±c D·∫ßn X√¢y, n·∫±m trong khu b·∫£o t·ªìn r·ª´ng ng·∫≠p
            m·∫∑n C·∫ßn Gi·ªù ‚Äì n∆°i ƒë∆∞·ª£c UNESCO c√¥ng nh·∫≠n l√† khu d·ª± tr·ªØ sinh quy·ªÉn th·∫ø
            gi·ªõi. T·∫°i ƒë√¢y, b·∫°n s·∫Ω c√πng ƒë·ªôi nh√≥m tr·ªìng c√¢y ƒë∆∞·ªõc non ven s√¥ng nh·∫±m
            kh√¥i ph·ª•c h·ªá sinh th√°i v√† ch·ªëng x√≥i m√≤n ƒë·∫•t.
          </p>
        </div>
      </div>

      <div id="modal-rungngapman" class="modal">
        <div class="modal-content">
          <a href="#" class="close-btn">√ó</a>
          <img
            src="../assets/rungngapman.webp"
            alt="R·ª´ng ng·∫≠p m·∫∑n"
            class="modal-img"
          />
          <h2 class="modal-title">Chi ti·∫øt - R·ª´ng ng·∫≠p m·∫∑n</h2>
          <p class="modal-text">
            R·ª´ng ng·∫≠p m·∫∑n C·∫ßn Gi·ªù l√† h·ªá sinh th√°i ƒëa d·∫°ng v·ªõi h√†ng trƒÉm lo√†i
            th·ª±c v·∫≠t v√† ƒë·ªông v·∫≠t qu√Ω hi·∫øm. Ho·∫°t ƒë·ªông tr·ªìng c√¢y t·∫°i ƒë√¢y kh√¥ng ch·ªâ
            mang √Ω nghƒ©a m√¥i tr∆∞·ªùng m√† c√≤n gi√∫p b·∫°n t√¨m hi·ªÉu th√™m v·ªÅ thi√™n nhi√™n
            hoang d√£ v√† vƒÉn h√≥a b·∫£n ƒë·ªãa.
          </p>
        </div>
      </div>

      <div id="modal-chungnhan" class="modal">
        <div class="modal-content">
          <a href="#" class="close-btn">√ó</a>
          <img
            src="../assets/chungnhan.webp"
            alt="Ch·ª©ng nh·∫≠n"
            class="modal-img"
          />
          <h2 class="modal-title">Chi ti·∫øt - Nh·∫≠n ch·ª©ng nh·∫≠n</h2>
          <p class="modal-text">
            Sau khi ho√†n th√†nh ho·∫°t ƒë·ªông tr·ªìng c√¢y, b·∫°n s·∫Ω ƒë∆∞·ª£c trao gi·∫•y ch·ª©ng
            nh·∫≠n ghi nh·∫≠n ƒë√≥ng g√≥p cho vi·ªác ph·ª•c h·ªìi r·ª´ng ng·∫≠p m·∫∑n. ƒê√¢y kh√¥ng
            ch·ªâ l√† minh ch·ª©ng cho h√†nh tr√¨nh xanh c·ªßa b·∫°n m√† c√≤n l√† k·ª∑ ni·ªám √Ω
            nghƒ©a trong h√†nh tr√¨nh v√¨ m√¥i tr∆∞·ªùng.
          </p>
        </div>
      </div>

      <div class="tab-container">
        <div class="tab-buttons">
          <button class="tab-button active" data-tab="tich-diem">
            T√≠ch ƒëi·ªÉm
          </button>
          <button class="tab-button" data-tab="quy-dinh">Quy ƒë·ªãnh</button>
        </div>

        <div class="tab-content active" id="tich-diem-content">
          <h3>üåü Ch∆∞∆°ng tr√¨nh t√≠ch ƒëi·ªÉm VEO</h3>
          <ul>
            <li>+10 ƒëi·ªÉm khi tham gia tour tr·ªìng c√¢y</li>
            <li>+5 ƒëi·ªÉm khi ƒëƒÉng k√Ω nh√≥m t·ª´ 3 ng∆∞·ªùi</li>
            <li>+10 ƒëi·ªÉm khi chia s·∫ª b√†i vi·∫øt l√™n m·∫°ng x√£ h·ªôi</li>
          </ul>
          <p>ƒê·ªïi qu√†: √°o, t√∫i, voucher gi·∫£m gi√° 5-10%</p>
        </div>

        <div class="tab-content" id="quy-dinh-content">
          <h3>üìã Quy ƒë·ªãnh tham gia tour</h3>
          <ol>
            <li>T√¥n tr·ªçng c·ªông ƒë·ªìng ƒë·ªãa ph∆∞∆°ng v√† m√¥i tr∆∞·ªùng</li>
            <li>Kh√¥ng t√°ch ƒëo√†n, h√†nh x·ª≠ vƒÉn minh</li>
            <li>Tu√¢n th·ªß quy ƒë·ªãnh b·∫£o v·ªá thi√™n nhi√™n</li>
            <li>Th·ª±c hi·ªán ƒë√∫ng quy ƒë·ªãnh an to√†n, ph√≤ng d·ªãch</li>
            <li>C√¥ng ty c√≥ quy·ªÅn t·ª´ ch·ªëi ph·ª•c v·ª• n·∫øu vi ph·∫°m n·ªôi quy</li>
          </ol>
        </div>
      </div>
    </div>
    <!-- Modal Form -->
    <div
      id="registrationModal"
      class="modal"
      role="dialog"
      aria-labelledby="modalTitle"
    >
      <div class="modal-content">
        <div class="modal-header">
          <h2 id="modalTitle">üåü ƒêƒÉng K√Ω Tham Gia Tour</h2>
          <button class="close" aria-label="ƒê√≥ng form ƒëƒÉng k√Ω">√ó</button>
        </div>
        <div class="modal-body">
          <form id="registrationForm">
            <div class="form-group">
              <label for="name">H·ªç v√† t√™n *</label>
              <input
                type="text"
                id="name"
                name="name"
                placeholder="Nh·∫≠p h·ªç v√† t√™n c·ªßa b·∫°n"
                required
                aria-required="true"
              />
            </div>

            <div class="form-group">
              <label for="birthdate">Ng√†y sinh *</label>
              <input
                type="date"
                id="birthdate"
                name="birthdate"
                required
                aria-required="true"
              />
            </div>

            <div class="form-group">
              <label for="phone">S·ªë ƒëi·ªán tho·∫°i *</label>
              <input
                type="tel"
                id="phone"
                name="phone"
                placeholder="Nh·∫≠p s·ªë ƒëi·ªán tho·∫°i"
                required
                aria-required="true"
              />
            </div>

            <div class="form-group">
              <label for="id_card">S·ªë cƒÉn c∆∞·ªõc c√¥ng d√¢n *</label>
              <input
                type="text"
                id="id_card"
                name="id_card"
                placeholder="Nh·∫≠p s·ªë CCCD/CMND"
                required
                aria-required="true"
              />
            </div>

            <div class="form-group">
              <label for="email">Email *</label>
              <input
                type="email"
                id="email"
                name="email"
                placeholder="Nh·∫≠p email c·ªßa b·∫°n"
                required
                aria-required="true"
              />
            </div>

            <div class="form-group">
              <label for="trip_name">T√™n chuy·∫øn ƒëi</label>
              <input
                type="text"
                id="trip_name"
                name="trip_name"
                value="Tour du l·ªãch t√¨nh nguy·ªán V√¢n H·ªì ‚Äì S∆°n La"
                readonly
                aria-readonly="true"
              />
            </div>

            <div class="form-group">
              <label for="departure_date">Ng√†y kh·ªüi h√†nh *</label>
              <select
                id="departure_date"
                name="departure_date"
                required
                aria-required="true"
              >
                <option value="" disabled selected>Ch·ªçn ng√†y kh·ªüi h√†nh</option>
                <option value="2025-04-30">30/04/2025</option>
                <option value="2025-05-10">10/05/2025</option>
                <option value="2025-06-28">28/06/2025</option>
              </select>
            </div>
            <button
              type="submit"
              class="submit-btn"
              id="submitBtn"
              aria-label="X√°c nh·∫≠n ƒëƒÉng k√Ω tour"
            >
              ‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω
            </button>
          </form>
        </div>
      </div>
    </div>

    <!-- Success Message -->
    <div
      id="successMessage"
      class="success-message"
      role="alert"
      aria-live="assertive"
    >
      <h3>üéâ ƒêƒÉng k√Ω th√†nh c√¥ng!</h3>
      <p>C·∫£m ∆°n b·∫°n ƒë√£ ƒëƒÉng k√Ω. Ch√∫ng t√¥i s·∫Ω li√™n h·ªá s·ªõm nh·∫•t!</p>
    </div>

    <button class="back-to-top" title="V·ªÅ trang ch·ªß">Quay l·∫°i trang ch·ªß</button>

    <script>
      // Thay th·∫ø h√†m saveToDatabase trong c√°c file tour (.html)
async function saveToDatabase(formData) {
  try {
    const now = new Date();
    const vietnamTime = new Date(now.getTime() + 7 * 60 * 60 * 1000);

    const response = await fetch('http://localhost:3000/api/tour-registrations', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
      body: JSON.stringify({
        tour_id: "can-gio", // ID cho tour C·∫ßn Gi·ªù
        full_name: formData.name,
        birthdate: formData.birthdate,
        phone: formData.phone,
        id_card: formData.id_card,
        email: formData.email,
        trip_name: "Tour Tr·ªìng C√¢y G√¢y R·ª´ng & Thi·ªán Nguy·ªán ‚Äì C·∫ßn Gi·ªù", // T√™n tour C·∫ßn Gi·ªù
        departure_date: formData.departure_date,
        registration_date: vietnamTime.toISOString().split('T')[0],
        registration_time: vietnamTime.toTimeString().split(' ')[0]
      })
    });

    const data = await response.json();
    
    if (!response.ok) {
      throw new Error(data.message || 'C√≥ l·ªói x·∫£y ra');
    }

    console.log('ƒêƒÉng k√Ω tour th√†nh c√¥ng:', data);
    return true;

  } catch (error) {
    console.error("L·ªói khi l∆∞u ƒëƒÉng k√Ω:", error);
    return false;
  }
}

      // Modal handling
      const modal = document.getElementById("registrationModal");
      const openModalBtn = document.getElementById("openModal");
      const closeModalBtn = document.querySelector(".close");
      const registrationForm = document.getElementById("registrationForm");
      const submitBtn = document.getElementById("submitBtn");
      const successMessage = document.getElementById("successMessage");

      // M·ªü modal
      openModalBtn.addEventListener("click", () => {
        modal.style.display = "block";
        document.getElementById("name").focus(); // Focus on first input for accessibility
      });

      // ƒê√≥ng modal
      closeModalBtn.addEventListener("click", () => {
        modal.style.display = "none";
        registrationForm.reset();
      });

      // ƒê√≥ng modal khi click b√™n ngo√†i
      window.addEventListener("click", (event) => {
        if (event.target === modal) {
          modal.style.display = "none";
          registrationForm.reset();
        }
      });

      // X·ª≠ l√Ω submit form
      registrationForm.addEventListener("submit", async (e) => {
        e.preventDefault();
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<span class="loading"></span>ƒêang x·ª≠ l√Ω...';

        const formData = {
          name: document.getElementById("name").value.trim(),
          birthdate: document.getElementById("birthdate").value,
          phone: document.getElementById("phone").value.trim(),
          id_card: document.getElementById("id_card").value.trim(),
          email: document.getElementById("email").value.trim(),
          trip_name: document.getElementById("trip_name").value,
          departure_date: document.getElementById("departure_date").value,
        };

        // Ki·ªÉm tra ƒë·ªãnh d·∫°ng email
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!emailRegex.test(formData.email)) {
          alert("Vui l√≤ng nh·∫≠p email h·ª£p l·ªá!");
          submitBtn.disabled = false;
          submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
          return;
        }

        // Ki·ªÉm tra ƒë·ªãnh d·∫°ng s·ªë ƒëi·ªán tho·∫°i
        const phoneRegex = /^\d{10}$/;
        if (!phoneRegex.test(formData.phone)) {
          alert("Vui l√≤ng nh·∫≠p s·ªë ƒëi·ªán tho·∫°i h·ª£p l·ªá (10 s·ªë)!");
          submitBtn.disabled = false;
          submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
          return;
        }

        // Ki·ªÉm tra ƒë·ªãnh d·∫°ng CCCD/CMND
        const idCardRegex = /^\d{9,12}$/;
        if (!idCardRegex.test(formData.id_card)) {
          alert("Vui l√≤ng nh·∫≠p s·ªë CCCD/CMND h·ª£p l·ªá (9-12 s·ªë)!");
          submitBtn.disabled = false;
          submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
          return;
        }

        // Ki·ªÉm tra ng√†y sinh (ng∆∞·ªùi tham gia ph·∫£i t·ª´ 5 tu·ªïi tr·ªü l√™n)
        const birthDate = new Date(formData.birthdate);
        const today = new Date();
        const age = today.getFullYear() - birthDate.getFullYear();
        const monthDiff = today.getMonth() - birthDate.getMonth();
        if (
          monthDiff < 0 ||
          (monthDiff === 0 && today.getDate() < birthDate.getDate())
        ) {
          age--;
        }
        if (age < 5) {
          alert("Ng∆∞·ªùi tham gia ph·∫£i t·ª´ 5 tu·ªïi tr·ªü l√™n!");
          submitBtn.disabled = false;
          submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
          return;
        }

        // L∆∞u v√†o database
        const saved = await saveToDatabase(formData);

        if (saved) {
          successMessage.style.display = "block";
          setTimeout(() => {
            successMessage.style.display = "none";
            modal.style.display = "none";
            registrationForm.reset();
            submitBtn.disabled = false;
            submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
          }, 3000);
        } else {
          alert("C√≥ l·ªói x·∫£y ra khi l∆∞u d·ªØ li·ªáu!");
          submitBtn.disabled = false;
          submitBtn.innerHTML = "‚ú® X√°c nh·∫≠n ƒëƒÉng k√Ω";
        }
      });

      const tabButtons = document.querySelectorAll(".tab-button");
      const tabContents = document.querySelectorAll(".tab-content");

      tabButtons.forEach((button) => {
        button.addEventListener("click", () => {
          const tabId = button.getAttribute("data-tab");
          tabButtons.forEach((btn) => btn.classList.remove("active"));
          tabContents.forEach((content) => content.classList.remove("active"));
          button.classList.add("active");
          document.getElementById(`${tabId}-content`).classList.add("active");
        });
      });

      tabButtons[0].classList.add("active");
      tabContents[0].classList.add("active");

      const backToTopButton = document.querySelector(".back-to-top");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          backToTopButton.classList.add("show");
        } else {
          backToTopButton.classList.remove("show");
        }
      });

      backToTopButton.addEventListener("click", () => {
        window.location.href = "../header.html";
      });
    </script>
  </body>
</html>
